<h1>【2025年版】Claudeプロンプト設計術｜X投稿文の品質を劇的改善 | SIOS Tech. Lab</h1>

<section class="entry-content"><div><div><div><b>目次</b></div><div><ul><li><a href="#hajimeni"><span>1</span><span>はじめに</span></a></li><li><a href="#nazeAI_sheng_chengni_laittanoka"><span>2</span><span>なぜAI生成に頼ったのか</span></a><ul><li><a href="#burogano_naomi"><span>2.1</span><span>ブロガーの悩み</span></a></li><li><a href="#AI_sheng_chengheno_qi_dai"><span>2.2</span><span>AI生成への期待</span></a></li></ul></li><li><a href="#jian_zheng_shi_yanno_she_ji"><span>3</span><span>検証実験の設計</span></a><ul><li><a href="#shi_yan_tiao_jian"><span>3.1</span><span>実験条件</span></a></li><li><a href="#puronputopatan"><span>3.2</span><span>プロンプトパターン</span></a></li></ul></li><li><a href="#jian_yipuronputode_shishitemita_jie_guo"><span>4</span><span>簡易プロンプトで試してみた結果</span></a><ul><li><a href="#zui_chuni_shishitapuronputo"><span>4.1</span><span>最初に試したプロンプト</span></a></li><li><a href="#shi_jinidekita_tou_gao_wen"><span>4.2</span><span>実際にできた投稿文</span></a></li><li><a href="#hega_wu_zurinakattaka"><span>4.3</span><span>何が物足りなかったか</span></a></li></ul></li><li><a href="#xiang_xipuronputodeno_sheng_cheng_jie_guo"><span>5</span><span>詳細プロンプトでの生成結果</span></a><ul><li><a href="#shi_yongshitapuronputo_li"><span>5.1</span><span>使用したプロンプト例</span></a></li><li><a href="#sheng_cheng_jie_guo"><span>5.2</span><span>生成結果</span></a></li><li><a href="#sheng_cheng_jie_guono_fen_xi"><span>5.3</span><span>生成結果の分析</span></a></li><li><a href="#sonomama_shi_yong_ke_neng_xingno_ping_si"><span>5.4</span><span>そのまま使用可能性の評価</span></a></li></ul></li><li><a href="#jie_guowo_bibetemite"><span>6</span><span>結果を比べてみて</span></a><ul><li><a href="#jian_yipuronputono_ke_ti"><span>6.1</span><span>簡易プロンプトの課題</span></a></li><li><a href="#xiang_xipuronputono_an_ding_xing"><span>6.2</span><span>詳細プロンプトの安定性</span></a></li><li><a href="#shi_jue_de_bi_jiao_yongruretto"><span>6.3</span><span>視覚的比較用ルーレット</span></a></li><li><a href="#Claudeno_te_xingwo_li_jieshita"><span>6.4</span><span>Claudeの特性を理解した</span></a></li></ul></li><li><a href="#siwanu_luotoshi_xuetokun_shuno_wen_ti"><span>7</span><span>思わぬ落とし穴：トークン数の問題</span></a><ul><li><a href="#Claudeno_zhi_xianni_yinkkakaru"><span>7.1</span><span>Claudeの制限に引っかかる</span></a></li><li><a href="#fan_renha_xiang_xipuronputo_diao_zhashitemita"><span>7.2</span><span>犯人は詳細プロンプト？調査してみた</span></a></li><li><a href="#yi_waina_shi_shiga_fa_jue"><span>7.3</span><span>意外な事実が発覚</span></a></li><li><a href="#ben_dangno_fan_renhaHTMLdetadatta"><span>7.4</span><span>本当の犯人はHTMLデータだった</span></a></li></ul></li><li><a href="#shierupuronputono_zuori_fang"><span>8</span><span>使えるプロンプトの作り方</span></a><ul><li><a href="#siga_xuenda_ji_benpointo"><span>8.1</span><span>私が学んだ基本ポイント</span></a></li><li><a href="#xiang_xipuronputode_shitta8tsunotekunikku"><span>8.2</span><span>詳細プロンプトで使った8つのテクニック</span></a></li><li><a href="#puronputo_gai_shannokotsu"><span>8.3</span><span>プロンプト改善のコツ</span></a></li></ul></li><li><a href="#matome"><span>9</span><span>まとめ</span></a><ul><li><a href="#shi_yande_zheng_mingsaretapuronputo_she_jino_wei_li"><span>9.1</span><span>実験で証明された「プロンプト設計」の威力</span></a></li><li><a href="#AI_wan_tougekaraAI_xie_dongheno_zhuan_huan"><span>9.2</span><span>「AI丸投げ」から「AI協働」への転換</span></a></li><li><a href="#jianetekita_ke_tito_xian_shi_dena_jie_jue_ce"><span>9.3</span><span>見えてきた課題と現実的な解決策</span></a></li><li><a href="#2zhou_jian_yun_yongshitemita_zheng_zhina_gan_xiang"><span>9.4</span><span>2週間運用してみた正直な感想</span></a></li><li><a href="#korekarapuronputoenjiniaringuwo_shimeru_renhe"><span>9.5</span><span>これからプロンプトエンジニアリングを始める人へ</span></a></li><li><a href="#cinosuteppu_wan_quan_zi_dong_huaheno_dao"><span>9.6</span><span>次のステップ：完全自動化への道</span></a></li></ul></li><li><a href="#fu_lu_xiang_xipuronputo_quan_wen"><span>10</span><span>付録：詳細プロンプト全文</span></a></li></ul></div></div></div><h2><span>はじめに</span></h2><p>ども！最近はAIを使った自動化に注目している龍ちゃんです。実は最近、SIOSテックラボのX担当者もやっているんですが、投稿頻度によっては半分ぐらい自分のブログ宣伝をしているので、ほぼ私物になっています。</p><p>今回はそんな問題を解消してくれるプロンプトを紹介していきたいと思います。ただ作るだけではなく、簡易的なプロンプトから始めて、詳細プロンプトに落とし込んだ過程を含めて、検証の結果とともにブログ記事にできれば良いなと思っています。</p><p>この記事では以下の内容をお伝えします：</p><ul><li>X（旧Twitter）投稿の自動化ニーズの高まり</li><li>本記事の目的：プロンプトの違いによる投稿品質の比較検証</li><li>検証方法の概要</li></ul><h2><span>なぜAI生成に頼ったのか</span></h2><h3><span>ブロガーの悩み</span></h3><p>ブログの宣伝って難しいですよね。この記事でわかることを正確に伝えるという作業が必要になります。自分が執筆したブログであれば、この点は簡単ですよね。</p><p>ですが、自分以外の人間が、自分のあまり知らない技術領域について書いた技術ブログの宣伝をするのは「何を書いたらいいのかわからない」「読むのも若干辛い」みたいなことが発生します。そして、これがエンジニアでなければ、まさにそこに広がるのは宇宙なわけですね。</p><p>そこで、過去に投稿した投稿に合わせてしまったり、当たり障りのない文章が作られるというのが日常茶飯事になっています。そして、エンジニアが文章を考えるとですね、マーケティング的視点があるわけではなく、宣伝の手法に詳しいわけでもなく、なんとなくいつも使っているXのような文面で投稿してしまうという問題もあります。</p><p>結論として、Xの投稿文を考えるのは難しいということですね。</p><p>具体的な悩みとしては：</p><ul><li>X投稿を考えるのが面倒</li><li>何を書けばいいかわからない</li><li>毎回同じような投稿になってしまう</li><li>記事は書けるけど、それをどう宣伝していいかわからない</li></ul><h3><span>AI生成への期待</span></h3><p>そこで生成AIの出番です。あわよくば、生成AIにブログのコンテンツを投げたら、Xの投稿文を作ってもらえると嬉しいですよね。記事のコンテンツの内容に基づいて、コピー&amp;ペーストするだけで投稿してくれたら嬉しいです。</p><p>その文章がマーケティング的視点が入っていて、最適化されている文章だと、なお良いな。全て自動化してくれて、宣伝も自動化してくれるとなお良いという現状です。この点は夢物語です…</p><p>そんなことを考えていたのですが、最近契約したClaudeで、そんなことができそうだなぁということでやってみたらできたという流れです。</p><p>簡単なプロンプトから詳細プロンプトまで実験をしてみたので、その結果を含めて今回得られた知見についてお話ししていきます。</p><p>期待していたことは：</p><ul><li>とりあえず何か投稿文を作ってほしい</li><li>記事の内容を要約してほしい</li><li>できれば修正なしでそのまま投稿したい</li></ul><h2><span>検証実験の設計</span></h2><p>ここでは、実験の過程について、検証をした過程について説明していきます。</p><h3><span>実験条件</span></h3><p>実験条件としては、<a href="https://tech-lab.sios.jp/archives/48160">同一のURL</a>に対して行います。これに対して簡易プロンプトと詳細プロンプトで、それぞれ3パターンずつプロンプトを投げて実験を行いました。</p><p><a href="https://gist.github.com/Ryunosuke-Tanaka-sti/223661bc0e63ff88226a3de81e84feda">こちらの生成結果はGistにまとめています</a>。リストを開いて右に並べながら読んでいただけるとわかりやすいかと思います。</p><h3><span>プロンプトパターン</span></h3><p>検証するにあたって、簡易プロンプトは以下のような実装をしています。言われると簡単な指示だけを与えているものなので、とても簡単なものです。</p><p>比較して詳細プロンプトは全体300行になる比較的大きなプロンプトになっています。使用方法としては、URLを入力として与えるだけで、システムプロンプトが自動的に起動し、生成物を作ってくれます。</p><ul><li><strong>簡易プロンプト</strong>：基本的な指示のみ</li><li><strong>詳細プロンプト</strong>：具体的な要件と制約を明記</li></ul><h2><span>簡易プロンプトで試してみた結果</span></h2><h3><span>最初に試したプロンプト</span></h3><div><pre><code>https://tech-lab.sios.jp/archives/48160

このURLの内容からX投稿を作成してください</code></pre></div><h3><span>実際にできた投稿文</span></h3><p>下に実際に生成された事例を示します。実験は計3回行い、20個の投稿文が生成されました。結果としてURLが含まれてないもの、文字数がXの投稿制限に引っかかるものなど、生成物をそのまま投稿として扱うことができないようなものが生成されてきました。</p><p>一応Xは課金をしているので、280文字以上は投稿できるんですが、それではリンクカードが表示されないという問題があったため、280文字以内での投稿というのを心がけています。</p><p>ですが、URLから記事の内容を取得して、記事に基づいた投稿文は生成してくれました。多少人の手を加えれば充分投稿できるようなものになっています。</p><div><pre><code># 良い例
```
今すぐ使えるClaude制御プロンプト集📝

🚫 Artifact生成を止めたい時 「成果物を作らずに、考え方だけ教えて」 「禁止事項：Artifact生成」

💬 軽い回答が欲しい時 「3行くらいで説明して」 「一言でどう思う？」

🔄 スレッド継続したい時 「今までの議論を引継ぎ資料にまとめて」

他にも使えるテクニック満載👇 https://tech-lab.sios.jp/archives/48160

#Claude #プロンプト集
```

# 悪い例

## URLがない
```
Claudeに「転職活動どうしよう」って聞いたら
→12段階の転職完全ロードマップ作られた😂

軽い質問のつもりが教科書レベルの資料に...

Claudeは「めちゃくちゃ賢くてやる気のある赤子」
明確な指示で制御するコツをまとめました📝

#Claude #AI #あるある
```

## 280文字突破
```
🎯 Claude調教の実績報告

k8s完全初心者から
↓ 人間主導学習プロセスで
DaemonSet運用レベルまで到達！

ポイント：
1. 大枠把握からスタート
2. 段階的深堀り質問
3. 理解度確認を必ず実施
4. 自分の言葉で例え話

Claudeを個人チューターとして最大活用🚀

詳しい学習フロー👇
<blockquote><a href="https://tech-lab.sios.jp/archives/48160">Claude調教術｜暴走パターンを制御する3つのプロンプトテクニック</a></blockquote><iframe></iframe>

#Claude学習法 #スキルアップ
```</code></pre></div><h3><span>何が物足りなかったか</span></h3><p>ここでは生成された生成物の何が足りなかったのかについて考えていきます。</p><p>やはり1番重要なのはURLです。URLがないのでどこに飛べばいいのかわからないという投稿は、さすがにブログの宣伝投稿としては不適切です。次に硬すぎる文体ですね。文体としてはもう少し柔らかいもの、簡単な文章という方が良いかと思います。そして、あわよくば、人間が投稿したように模倣していただければいいんじゃないかなぁと思います。</p><p>次にハッシュタグですね。ハッシュタグを生成するのは、正直、僕自身もどうやればいいのかわからないので、この辺の効果測定は難しいなと思います。ですが、ハッシュタグがないものは、さすがに「手抜き」なんじゃないかなと思ったりもしちゃうわけですね。</p><p>まぁ簡単に言うと、手動による見直しが見込まれました。</p><p>具体的な問題点：</p><ul><li>長すぎる（文字数オーバー）</li><li>堅すぎる文体</li><li>「これ投稿して大丈夫？」という不安</li></ul><p>結局自分で書き直すことに…</p><h2><span>詳細プロンプトでの生成結果</span></h2><h3><span>使用したプロンプト例</span></h3><p>全文は長いので、プロンプトのすべてをここに配置することができませんが、要点のみ最後に付録として添付しておきます。</p><ul><li>文字数制限</li><li>トーン指定</li><li>ハッシュタグ要件</li><li>エンゲージメント要素</li><li>構造化された出力形式</li></ul><h3><span>生成結果</span></h3><div><pre><code># ブログの評価

**総合評価：A（高品質）**

**技術的正確性：⭐⭐⭐⭐⭐（5点満点）**

**実装レベル：本格実装**

**対象読者：中級者〜上級者**

**実用性：⭐⭐⭐⭐⭐（5点満点）**

## 主要な技術要素

- Claude 4（Sonnet）を使用したプロンプトエンジニアリング実践
- 3つの制御テクニック：成果物制御、会話継続、ペース調整
- システムプロンプト設計とArtifact生成制御
- スレッド管理とトークン最適化手法

## 記事内の具体的な数値・効果

- **記事内で実証済みの制御手法**：3つの明確なテクニック体系
- **実際の学習事例**：Kubernetes習得プロセスの詳細記録
- **具体的改善例**：300行→50行程度への成果物サイズ制御
- **問題解決実績**：スレッド上限問題の具体的回避策

## 注意事項・制限

- 記事内で言及されている制限事項：スレッドが長くなると効果が薄れる傾向
- 実装時の注意点：プロンプトの詳細指定が重要
- Claude固有のノウハウ：他のLLMでは効果が異なる可能性

## 誇張表現検証結果

- **初回生成での誇張なし**：記事内の実証済み手法のみを使用
- **修正内容**：なし（記事内容と完全一致）
- **最終版での整合性確認結果**：✅ 全パターンで記事内容と整合性確認済み

---

# ブログの投稿パターン

## Aパターン：効果重視・数値訴求型

**投稿文：**

```
<blockquote><a href="https://tech-lab.sios.jp/archives/48160">Claude調教術｜暴走パターンを制御する3つのプロンプトテクニック</a></blockquote><iframe></iframe>

🚀 Claude暴走を3つのテクニックで完全制御！
📝 成果物制御・会話継続・ペース調整で理想的なAI活用
⚡ 技術スタック: #Claude #プロンプトエンジニアリング
🔧 300行→50行への成果物最適化も実現
#AI #LLM #効率化 #エンジニア

```

- **記事内容との整合性：** ✅ 確認済み
- **投稿推奨時間：** 火曜日 21:00-22:00（エンジニア活動ピーク・技術学習時間）

## Bパターン：課題共感・解決提案型

**投稿文：**

```
<blockquote><a href="https://tech-lab.sios.jp/archives/48160">Claude調教術｜暴走パターンを制御する3つのプロンプトテクニック</a></blockquote><iframe></iframe>

😰 Claude君止まって！大規模Artifact生成で困ってませんか？
💡 明確な指示とGoal設定で暴走制御が可能になります
⚡ 成果物制御・スレッド管理・段階的学習の3技法
🎯 スレッド上限問題も引継ぎ資料で解決
#Claude #プロンプトエンジニアリング #AI #LLM

```

- **記事内容との整合性：** ✅ 確認済み
- **投稿推奨時間：** 水曜日 12:00-13:00（昼休み・課題解決ニーズが高い時間）

## Cパターン：技術トレンド・学習促進型

**投稿文：**

```
<blockquote><a href="https://tech-lab.sios.jp/archives/48160">Claude調教術｜暴走パターンを制御する3つのプロンプトテクニック</a></blockquote><iframe></iframe>

🔥 2025年のプロンプトエンジニアリング実践術
📚 Claude制御テクニック3選の詳細解説
⭐ 人間主導の学習プロセスでスキルアップ加速
🚀 Kubernetes習得事例で段階的学習の威力を実証
#プロンプトエンジニアリング #Claude #AI学習

```

- **記事内容との整合性：** ✅ 確認済み
- **投稿推奨時間：** 金曜日 18:00-19:00（週末学習準備・新技術トレンド確認時間）

---

## 投稿時間最適化の根拠

### エンジニア向け最適投稿時間

- **Aパターン（火曜21:00）**：技術習得意欲が最も高い時間帯
- **Bパターン（水曜12:00）**：実務課題解決のニーズが高い昼休み
- **Cパターン（金曜18:00）**：週末の技術学習計画を立てる時間

### ハッシュタグ効果分析結果

- **#Claude** - 2025年最も注目されるAI技術キーワード
- **#プロンプトエンジニアリング** - エンジニア間で急成長中のスキル分野
- **#AI** **#LLM** - 幅広いリーチを狙える基本タグ
- **半角英語優先**：バイト効率とトレンド性を両</code></pre></div><h3><span>生成結果の分析</span></h3><p>実際の生成物について見ていきましょう。プロンプトで3パターン、それぞれ別の観点から投稿文を生成しているので、1つの生成物に3つの投稿文（計９件）が生成されています。</p><p>文字数制限も280文字以内に収まるように計算されて最適化されています。僕なら絶対考えつかないようなキーワードで、ブログが表現されており、体感としてはこれは充分投稿に値するだろうと思える内容でした。</p><p>また、ハッシュタグに関しても、検索から適切なハッシュタグを検索しているというステップを作成して検索して策定しています。ですが、正直この辺の判断は投稿していきながら、Xで詳細な分析を行わないとわからないので、正確なことは言えません。</p><p>改善された点：</p><ul><li>実際の生成文例</li><li>文字数の適切さ</li><li>魅力的なキャッチフレーズ</li><li>関連性の高いハッシュタグ</li><li>エンゲージメント促進要素</li></ul><h3><span>そのまま使用可能性の評価</span></h3><p>実際にこちらのプロンプトは2週間ほど運用しているのですが、問題としては多少誇張表現を使ってしまう部分、記事の内容に基づかないことなどはあるものの、比較的問題のない投稿文になっています。</p><p>8割程度はそのままコピー&amp;ペーストで投稿を行うことができています。また、微調整に関しても、問題点をチャットで指摘をすることで、再生成を行ってくれるため、人間の作業としてはURLを選択して投稿文を確認し、問題があったら指摘するという簡単なフローに変わりました。</p><h2><span>結果を比べてみて</span></h2><p>簡易プロンプトと詳細プロンプトでそれぞれ比較を行い、分析考察を行っていきます。</p><h3><span>簡易プロンプトの課題</span></h3><p>簡易プロンプトの問題点としては、出力の品質が安定していないものが挙げられます。やはりXの投稿文として求めているスタイルというものは人それぞれ違いますが、今回は僕が求めているスタイルに合うものは合計の出力数の2割程度しかありませんでした。</p><p>そして毎回出力によってパターンが異なるため、確率の低いガチャを回してるようで楽しくなっちゃいましたね。</p><p>また、人間が修正する手間が必ず発生しているため、アイディアとしては充分使えますが、投稿文をそのまま生成するという当初の目的から外れてしまいます。</p><ul><li><strong>ガチャ要素</strong>：毎回違う結果で安定しない</li><li>「今日は良い投稿文、昨日はイマイチ」の繰り返し</li><li>結果が予測できないので、結局人間が判断・修正が必要</li><li>時間かけて修正するなら最初から自分で書いた方が早い</li></ul><h3><span>詳細プロンプトの安定性</span></h3><p>詳細プロンプトでは、実行計画をプロンプトに埋め込んでいるため、すべての生成の過程で統一のステップを踏むことにより安定性があります。完全に保証されているわけではないんですけどね。</p><p>実際にブログのコンテンツ内容に基づいていると判断していても、人間の目で確認したところ事実に基づいていない投稿文が存在していました。</p><p>ですが、3パターンの投稿文が生成されるので、パターンの1つは使えるパターンがあるように感じています。品質チェック項目があるため、文字数280文字を超えることはほぼなく、投稿文としても記事の内容に基づいていることが多いです。</p><p>今回で言うならば、再生成を行ったのは全体中1つだけでした。</p><p>ほとんどコピペでの運用が実現しています。</p><ul><li><strong>一定品質の保証</strong>：どのパターンも安心して使える</li><li>狙った通りのアプローチで生成される</li><li>ほぼそのままコピペで投稿可能</li><li>「今日もちゃんとした投稿文ができた」安心感</li></ul><h3><span>視覚的比較用ルーレット</span></h3><div><span>🎰 プロンプトガチャマシン</span><p>簡易プロンプト vs 詳細プロンプト – あなたならどっちを選ぶ？</p><div><div><span>😅 簡易プロンプトマシン</span><div>🎲</div><button>ガチャを回す！</button><div><div><div>成功率 20%</div></div></div><div>まずは試してみよう！</div></div><div><span>✅ 詳細プロンプトマシン</span><div>🎯</div><button>ガチャを回す！</button><div><div><div>成功率 80%</div></div></div><div>まずは試してみよう！</div></div></div><div><span>📊 10回試行の結果比較</span><div><div><div>簡易プロンプト</div><div>😅😅😅😅😅😅😅😅✅✅</div><div>成功: 2回 / 失敗: 8回</div></div><div><div>詳細プロンプト</div><div>✅✅✅✅✅✅✅✅😅😅</div><div>成功: 8回 / 失敗: 2回</div></div></div></div></div><h3><span>Claudeの特性を理解した</span></h3><p>詳細プロンプトを組んだとしても、1割程度は事実に基づかない投稿文が生成されるというのは盲点でした。特にプロンプトで評価フェーズを挟んでいても、評価フェーズを飛ばしてしまう場合があります。</p><p>また、指示の出し方によって、生成物がこんなにも変わってしまうというのは面白いですね。概念としては理解していたんですが、今まで「ギャル風に」とか「夜の蝶とおじさんの会話」みたいなふざけたプロンプトしか打ってこなかったので、これは面白い発見でした。</p><p>詳細プロンプトを作るだけで、今までXの投稿にかけていた時間が大幅に短縮されました。単純にプロンプトを使って生成するだけでも、従来あたり5分から10分程度かかっていたのですが、実働としては本当に1分で完了するものとなっています。</p><p>あとはこれがシステム化できれば、人間は生成物を確認するだけで良くなりそうです。この辺は作り込みが必要だなと思っています。まぁ僕はエンジニアなのでそういうシステムみたいなところは本職なところがあるんですけどね。</p><ul><li>「Claudeは万能じゃない」ことがわかった</li><li>指示の出し方で全然違う結果になる</li><li>少し手間をかけるだけで劇的に改善</li><li>Claudeは「賢いけど指示待ち」な感じ</li></ul><h2><span>思わぬ落とし穴：トークン数の問題</span></h2><p>実際に直面した問題点についてお話ししたいと思います。</p><h3><span>Claudeの制限に引っかかる</span></h3><p>最近では月曜日に1週間分の投稿をまとめて生成するのですが、6記事程度作成したらClaudeの制限に引っかかりました。<a href="https://www.anthropic.com/pricing">ClaudeのProプラン</a>で使っているのですが、使用回数を使いつぶしてしまったようです。原因として考えられたのは、詳細プロンプトによって膨大な処理が行われているのではないかという点です。こちらを検証してみました。</p><h3><span>犯人は詳細プロンプト？調査してみた</span></h3><p>こちらの処理は、APIで叩いているわけではないので、正式なトークン数がわかるわけではありません。なので、チャットで入力したトークン数、出力したトークン数の合計値を出してシミュレートしました。詳細プロンプトと簡易プロンプトでそれほど差がないことがわかりました。そして1番トークン数を消費していたのはweb_fetchで取得したHTMLでした。</p><figure><img/></figure><p><strong>web_fetchで取得したコンテンツの内訳</strong></p><ul><li><strong>取得データ全体</strong>: 約18,000-20,000トークン</li><li><strong>実際の記事内容</strong>: 約12,000-14,000トークン</li><li><strong>HTMLタグ・構造データ</strong>: 約4,000-6,000トークン</li></ul><p><strong>プロンプト別の合計トークン数</strong></p><ul><li><strong>簡易プロンプト</strong>: 約18,000～26,000トークン（平均：22,000トークン）</li><li><strong>詳細プロンプト</strong>: 約23,000-29,000トークン（平均26,000トークン）</li></ul><h3><span>意外な事実が発覚</span></h3><p>詳細プロンプトと簡易プロンプトにそこまで大差があるわけではないという事実が発覚しました。プロンプトの差としては5,000トークン程度でそんなに重いものではないという結論になりました。というか、HTML重すぎじゃん！</p><ul><li><strong>大きな差があるわけではない</strong></li><li>プロンプトの差：約5,000トークン程度</li><li><strong>というかHTML重すぎじゃん！</strong></li></ul><h3><span>本当の犯人はHTMLデータだった</span></h3><p>はい、本当の犯人はHTMLだったわけなんですけども、まぁこれって当然のことなんですよね。web_fetchで取得しているということは記事全体を取得しているわけであって、ヘッダーやフッター、メインのコンテンツに関係ないサブメニューなども全て取得しているわけです。それは余計な情報もついてきて重くなりますよね。</p><p>なので、記事の本文自体は大体半分程度に圧縮できると考えています。で、ここから面白いところなんですけど、<a href="https://tech-lab.sios.jp/archives/46439">実は僕、以前にも遭遇しているんですよね。過去のシステムをGASを使ってリファクタリングしてプロトタイプを作ってやってみているんですけども、その時にも同様の問題に当たって、その時はHTMLから本文を抜き出すという処理をスクリプト化して実行していました。</a></p><p>なので、もしこのままプロンプトを使うというよりかは、本文だけを抜き出す工夫が必要になると考えています。システム化にあたっては、HTMLの処理部分は機械的にシステム化し、本来の生成と検証部分に注力してもらう方が効果的であると考えています。というかそうしないとトークン数がバカでかいシステムができてしまうのでヤバいですよね。</p><h2><span>使えるプロンプトの作り方</span></h2><h3><span>私が学んだ基本ポイント</span></h3><p>はい、ここでは私が学んだ基本のプロンプトの作り方についてお話ししていきます。基本的なところとしては、実行計画はAIからの出力を安定化させるために重要な内容になっています。簡易プロンプトではAI自身に考えさせる余地が残っているため、自由な発想で自由な判断を行っていますが、実行計画として行動指針を立ててあげることによってAIの思考を誘導することができます。また、例示を載せることによって、そこを起点に考えてもらえるので、ワンショットラーニングやフューショットラーニングなども効果的です。</p><ul><li>「何文字以内で」は絶対に入れる</li><li>「～な感じで」と雰囲気を伝える</li><li>「ハッシュタグも付けて」と具体的に指示</li><li>ダメな例も一緒に教える</li></ul><h3><span>詳細プロンプトで使った8つのテクニック</span></h3><ul><li><strong>段階的実行</strong>：複雑な処理をステップ分割</li><li><strong>制約優先</strong>：「〜してはいけない」を先に明確化</li><li><strong>テンプレート化</strong>：使い回せる構造を作る</li><li><strong>検証組み込み</strong>：生成→チェック→修正の流れ</li><li><strong>複数パターン</strong>：用途別に数種類用意</li><li><strong>具体的例示</strong>：曖昧な指示は避ける</li><li><strong>自動実行</strong>：条件を満たしたら勝手に動く</li><li><strong>構造化出力</strong>：毎回同じフォーマットで結果表示</li></ul><h3><span>プロンプト改善のコツ</span></h3><p>プロンプトの改善のコツとしては、定期的にプロンプトを修正しようとする意識を持つことです。今回付録で載せているプロンプトも実はもう5回ほどアップデートを重ねて調整しています。定期的に自分の求めているものと異なる場合、遠慮なくプロンプトを修正していくべきだと思います。</p><p>この点は、システムプロンプトをバージョン管理しておくことも1つの手だと思っています。はい、なので、GitやClaude Code、Gemini CLIでそういった環境を作るのもアリではないでしょうか。</p><h2><span>まとめ</span></h2><h3><span>実験で証明された「プロンプト設計」の威力</span></h3><p>今回の検証を通して、同じClaudeでも「どう頼むか」で全然違う結果になることが実証できました。簡易プロンプトでは8割の投稿文に人間の手直しが必要だったのに対し、詳細プロンプトでは8割がそのままコピペで使えるレベルまで改善しました。</p><p>特に印象的だったのは、詳細プロンプトで生成される投稿文の<strong>安定性</strong>ですね。「今日は当たり、昨日はハズレ」というガチャ要素がほぼなくなって、毎回安心して使える品質になったのは大きな収穫でした。</p><h3><span>「AI丸投げ」から「AI協働」への転換</span></h3><p>最初は「URLを渡したら勝手に完璧な投稿文を作ってくれる」なんて夢を見ていましたが、現実はそう甘くありませんでした。でも、これって逆に言えば<strong>人間の工夫次第でAIのパフォーマンスを劇的に向上させられる</strong>ということでもあります。</p><p>AIを「万能の魔法」として期待するのではなく、「すごく優秀だけど指示待ちな部下」として適切にマネジメントすることで、期待以上の成果を得られることがわかりました。</p><h3><span>見えてきた課題と現実的な解決策</span></h3><p>トークン数の問題は正直、盲点でした。HTMLの重さが予想以上で、詳細プロンプトよりもweb_fetchで取得するデータの方がよっぽど「重い」という事実は面白い発見でしたね。</p><p>この問題に対しては、過去に<a href="https://tech-lab.sios.jp/archives/46439">GASでHTMLパースしてた経験</a>が活かせそうです。本文抽出を前処理で自動化すれば、トークン数を半分以下に圧縮できる見込みがあります。まさに「過去の自分、ナイス」って感じです。</p><h3><span>2週間運用してみた正直な感想</span></h3><p>実際に運用してみて、X投稿にかける時間が<strong>5-10分から1分程度</strong>まで短縮されたのは素直に嬉しいです。「投稿文を考えるのが面倒」「何を書けばいいかわからない」という悩みがほぼ解決されました。</p><p>ただし、1割程度は事実に基づかない投稿文が生成されることもあるので、「完全自動化」ではなく「半自動化」として運用するのが現実的だと感じています。人間の最終チェックは必須ですね。</p><h3><span>これからプロンプトエンジニアリングを始める人へ</span></h3><p>もし皆さんも「Claudeに○○を任せたけど、思ったような結果が得られなかった」という経験があるなら、ぜひプロンプト設計を見直してみてください。今回の実験で分かったように、少しの工夫で劇的に改善することがあります。</p><p>特に重要なのは：</p><ul><li><strong>具体的な制約条件</strong>を明記する（文字数、文体、必須要素など）</li><li><strong>段階的な実行計画</strong>をプロンプトに組み込む</li><li><strong>複数パターン</strong>の出力で選択肢を増やす</li><li><strong>定期的なプロンプト見直し</strong>で継続改善する</li></ul><h3><span>次のステップ：完全自動化への道</span></h3><p>今後は、HTMLパースの自動化、プロンプトのバージョン管理、そして最終的にはシステム化まで進めていきたいと思っています。Claude Codeとかも使ってみたいですしね。</p><p>でも一番大切なのは、「AIと人間が協力して、お互いの得意分野を活かす」という視点だと思います。完全自動化が目標ではなく、<strong>人間がより創造的な部分に集中できる環境</strong>を作ることが本当のゴールなのかもしれません。</p><p>皆さんも、ぜひ自分なりのプロンプトエンジニアリングにチャレンジしてみてください。きっと「これは便利だ！」と思える瞬間があるはずです。</p><p>そして、良いプロンプトができたら、ぜひ社内やコミュニティでシェアして、みんなで効率化の輪を広げていきましょう！</p><h2><span>付録：詳細プロンプト全文</span></h2><div><pre><code>```markdown
# エンジニア向けX投稿自動生成システム

## 🎯 概要

URLのみの入力で、記事品質評価から3パターンの投稿文まで自動生成する包括的システム。**リンクカード確実表示**を最優先に設計し、**記事内容の正確性検証**により誇張表現を排除。

-----

## 🔄 自動実行プロセス

### **Phase 1: 記事分析・品質評価**

#### **Step 1-1: 記事内容完全取得**

```
実行内容：
- web_fetchでブログ記事の完全コンテンツ取得
- 記事構造の解析（見出し、コードブロック、図表等）
- 技術的内容の抽出と整理
- 具体的な数値・効果・事例の正確な記録
```

#### **Step 1-2: 技術的正確性評価**

```
評価項目：
【技術スタック正確性】
- 使用技術の最新性（2024-2025年基準）
- 技術的実装の適切性
- セキュリティ・ベストプラクティスの考慮

【実装レベル判定】
- プロトタイプ / 基本実装 / 本格実装 / 企業レベル
- コードの完成度・品質
- エラーハンドリング・例外処理の有無

【対象読者レベル】
- 初級者（学習中・1-2年目）
- 中級者（実務経験3-5年）
- 上級者（リーダー・アーキテクト級）
- 専門家（特定分野のエキスパート）

総合評価：A（高品質）/ B（標準）/ C（要注意）
```

#### **Step 1-3: 記事価値・差別化ポイント抽出**

```
分析内容：
- 解決する具体的課題
- 既存解決策との違い・優位性
- 実用性・再現性の程度
- 学習コスト・導入難易度
- ビジネス価値・ROI
- 【重要】記事内で言及されている具体的な効果・数値の正確な記録
```

### **Phase 2: ハッシュタグ効果分析**

#### **Step 2-1: 技術分野別ハッシュタグ調査**

```
検索戦略（2-4回のweb_search実行）：

検索1: "[主要技術名] ハッシュタグ 効果的 X Twitter 2025"
検索2: "[技術領域] エンジニア ハッシュタグ トレンド 2025"
検索3: "[解決課題] 自動化 効率化 ハッシュタグ X"
検索4: "[関連ツール] [技術スタック] ハッシュタグ 人気"
```

#### **Step 2-2: ハッシュタグ効果性評価・選定**

```
評価基準：
- トレンド性（2024-2025年の話題性）
- 技術特化度（エンジニアの検索意図との一致）
- 関連性（記事内容との直接的関連度）
- バイト効率（半角英語活用による節約効果）

選定ルール：
- 6個以内
- 合計30-40バイト以内
- 半角英語優先（#Azure, #API, #OSS等）
```

### **Phase 3: 投稿文作成（3パターン）**

#### **🚨 リンクカード表示最優先ルール**

```
【必須適用事項】
1. URLを投稿文の冒頭に単独行で配置
2. URL前後にスペース・改行で明確分離
3. 240文字以内でもURL優先配置
4. 絵文字・ハッシュタグはURL後に配置
5. 他のテキストや絵文字と混在させない

【配置テンプレート】
https://example.com

[投稿文本文]
#ハッシュタグ
```

#### **Aパターン: 効果重視・数値訴求型**

```
【特徴】
- 記事内で言及されている具体的な数値効果のみを使用
- Before/After型の改善アピール（記事内の事実に基づく）
- 実用性・効率化を強調（記事内容の範囲内で）

【構成テンプレート】
https://example.com

🚀 [記事内の具体的数値効果]で[技術課題]を解決！
📝 [記事内の具体的解決手法]で[記事内の効果]を実現
⚡ 技術スタック: [半角英語技術名]
🔧 [記事内の実装詳細・注意点]
#ハッシュタグ

【使用可能な表現例】
- 記事内で「30分→3分に短縮」と記載されている場合のみ使用
- 記事内で「90%削減」と記載されている場合のみ使用
- 記事内で「月40時間節約」と記載されている場合のみ使用
```

#### **Bパターン: 課題共感・解決提案型**

```
【特徴】
- 記事内で言及されている課題のみを使用
- 記事内で提案されている解決策のみを紹介
- 誇張のない共感を呼ぶ問題提起

【構成テンプレート】
https://example.com

😰 [記事内で言及される課題]で困ってませんか？
💡 [記事内の技術手法]を使えば[記事内の解決方法]で楽になります
⚡ [記事内の具体的技術スタック]で実装
🎯 [記事内の期待効果・メリット]
#ハッシュタグ

【使用可能な表現例】
- 記事内で「手動でSlack通知作成の課題」が言及されている場合のみ
- 記事内で「Google Docsの更新確認の問題」が言及されている場合のみ
- 記事内で「レポート作成の時間コスト」が言及されている場合のみ
```

#### **Cパターン: 技術トレンド・学習促進型**

```
【特徴】
- 記事内で言及されている技術動向のみを使用
- 記事内で説明されているスキルアップ内容のみを紹介
- 記事内で言及されている将来性・価値のみをアピール

【構成テンプレート】
https://example.com

🔥 [記事内で言及される技術分野]の実装方法
📚 [記事内の技術手法・ツール]の使用方法を解説
⭐ [記事内の学習メリット・価値]
🚀 [記事内の実際の活用場面・価値]
#ハッシュタグ

【使用可能な表現例】
- 記事内で「2025年のAI活用」が言及されている場合のみ
- 記事内で「NotebookLMとSlack連携」が説明されている場合のみ
- 記事内で「技術の評価への影響」が言及されている場合のみ
```

### **Phase 4: 📋 記事内容検証・誇張表現排除**

#### **Step 4-1: 投稿文と記事内容の照合**

```
【検証項目】
1. 数値効果の正確性
   - 投稿文の数値が記事内に明記されているか
   - 推測・推定ではなく実証された数値か
   - 文脈が正しく反映されているか

2. 技術的主張の正確性
   - 投稿文の技術的効果が記事内で実証されているか
   - 理論的可能性ではなく実装済みの内容か
   - 制限事項・注意点が適切に反映されているか

3. 解決課題の正確性
   - 投稿文の課題が記事内で具体的に言及されているか
   - 汎用的な「あるある」ではなく記事固有の課題か
   - 解決方法が記事内で実際に提示されているか

4. 将来性・価値の正確性
   - 投稿文の価値主張が記事内で根拠付けられているか
   - 著者の推測ではなく客観的事実に基づいているか
   - 業界動向との整合性が取れているか
```

#### **Step 4-2: 誇張表現の特定と修正**

```
【誇張表現の判定基準】
⚠️ 以下は誇張表現として判定・修正対象：

1. 記事内に記載のない具体的数値
   - 「90%削減」「10倍高速化」等（記事内に根拠なし）
   - 「月40時間節約」等（記事内に計算根拠なし）
   - 「30分→3分短縮」等（記事内に実測データなし）

2. 記事内に記載のない効果・価値
   - 「劇的改善」「ゲームチェンジャー」等（記事内に根拠なし）
   - 「チーム全体で効率化」等（記事内に事例なし）
   - 「来年の評価が変わる」等（記事内に根拠なし）

3. 記事内に記載のない課題・問題
   - 「まだ手動で〜してるの？」等（記事内に言及なし）
   - 「毎週2時間かけてませんか？」等（記事内に統計なし）
   - 汎用的な「あるある」課題（記事固有ではない）

4. 記事内に記載のない技術トレンド
   - 「2025年注目の〜」等（記事内に根拠なし）
   - 「業界標準になる」等（記事内に予測なし）
   - 「この技術を知ってるかで〜」等（記事内に根拠なし）
```

#### **Step 4-3: 投稿文の再生成**

```
【再生成トリガー】
- 3パターンのうち1つでも誇張表現が検出された場合
- 記事内容と投稿文の整合性が取れない場合
- 数値・効果の根拠が記事内で確認できない場合

【再生成ルール】
1. 記事内で明記されている内容のみを使用
2. 推測・推定・一般論は使用しない
3. 具体的数値は記事内の実証データのみ使用
4. 効果・価値は記事内の根拠付きのもののみ使用
5. 課題は記事内で具体的に言及されているもののみ使用

【再生成プロセス】
1. 誇張表現を特定
2. 記事内の対応する正確な情報を確認
3. 正確な情報に基づいて投稿文を再構築
4. 再度検証を実施
5. 問題がなければ最終版として採用
```

### **Phase 5: 投稿時間最適化**

#### **エンジニア向け最適投稿時間**

```
【平日優先時間帯】
- 朝の通勤時間：8:00-9:00
- 昼休み：12:00-13:00
- 夜の学習時間：21:00-22:00

【技術記事特化時間】
- 火曜日〜木曜日の21:00-22:00（最優先）
- 月曜日 12:00-13:00（週始めキャッチアップ）
- 金曜日 18:00-19:00（週末学習準備）

【記事品質連動調整】
- A評価：火曜21:00（エンジニア活動ピーク）
- B評価：水曜12:00（昼休み気軽チェック）
- C評価：金曜18:00（週末実験タイム）
```

-----

## 📊 最終出力フォーマット

### **自動実行トリガー**

```
以下の場合に自動的にこのプロセスを実行：

1. URLのみが入力された場合
2. "投稿パターン作成"等の指示がある場合
3. "A/Bテスト版"等の指示がある場合
4. "完全版"等の包括的分析要求がある場合
```

### **出力テンプレート**

```markdown
## ブログの評価

【総合評価】A / B / C
【技術的正確性】⭐⭐⭐⭐⭐ (5点満点)
【実装レベル】プロトタイプ / 基本実装 / 本格実装 / 企業レベル
【対象読者】初級者 / 中級者 / 上級者 / 専門家
【実用性】⭐⭐⭐⭐⭐ (5点満点)

【主要な技術要素】
- [抽出された技術スタック]
- [解決する課題]
- [提供価値・効果]

【記事内の具体的な数値・効果】
- [記事内で明記されている具体的数値]
- [記事内で実証されている効果]
- [記事内で言及されている改善点]

【注意事項・制限】
- [記事内で言及されている制限事項]
- [実装時の注意点]

【誇張表現検証結果】
- [初回生成で検出された誇張表現]
- [修正内容]
- [最終版での整合性確認結果]

## ブログの投稿パターン

### Aパターン
- 投稿文: [280バイト以内の効果重視型投稿文]
- 記事内容との整合性: ✅ 確認済み
- 投稿推奨時間: [具体的日時と根拠]

### Bパターン
- 投稿文: [280バイト以内の課題共感型投稿文]
- 記事内容との整合性: ✅ 確認済み
- 投稿推奨時間: [具体的日時と根拠]

### Cパターン
- 投稿文: [280バイト以内の学習促進型投稿文]
- 記事内容との整合性: ✅ 確認済み
- 投稿推奨時間: [具体的日時と根拠]
```

-----

## 🔧 品質保証チェックリスト

### **記事品質評価の正確性**

- [ ] 技術的事実の正確性検証
- [ ] 実装レベルの適切な判定
- [ ] 対象読者レベルの妥当性確認
- [ ] 制限事項・注意点の適切な反映

### **誇張表現検証の徹底**

- [ ] 投稿文の全数値が記事内で確認済み
- [ ] 効果・価値の主張が記事内で根拠付け済み
- [ ] 課題の指摘が記事内で具体的に言及済み
- [ ] 技術トレンドの主張が記事内で根拠付け済み

### **リンクカード表示保証**

- [ ] URLが投稿文の冒頭に単独行で配置
- [ ] URL前後のスペース・改行による明確分離
- [ ] 240文字超投稿でも冒頭URL配置
- [ ] 絵文字・ハッシュタグがURL後に配置

### **3パターンの差別化**

- [ ] 3つのアプローチが明確に異なる
- [ ] 各パターンのターゲット読者が明確
- [ ] バイト数最適化が各版で実現
- [ ] 品質評価結果が適切に反映
- [ ] 全パターンで記事内容との整合性確認済み

### **ハッシュタグ効果分析**

- [ ] 2-4回のweb_search実行
- [ ] 技術分野別の効果的ハッシュタグ調査
- [ ] トレンド性・関連性の評価
- [ ] バイト効率を考慮した選定

-----

## 使用方法

URLを入力するだけで自動実行されます。出力はArtifact形式で生成され、チャットでの説明は最小限に抑制されます。

```
例：https://tech-blog.example.com/article-url
```

この改良版により、**記事内容の正確性を保証**し、**誇張表現を完全に排除**しながら、**リンクカード確実表示**と**シンプルな出力フォーマット**を両立したシステムが完成しました。
```</code></pre></div><!-- Anyway Feedback Container //--><div>ご覧いただきありがとうございます！

<span>この投稿はお役に立ちましたか？</span><br/><br/><a href="#afb-post-48231">役に立った</a><a href="#afb-post-48231">役に立たなかった</a><br/><br/><span>1人がこの投稿は役に立ったと言っています。</span><input/><input/></div><!-- //Anyway Feedback Container --></section>